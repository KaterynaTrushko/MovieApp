{"ast":null,"code":"import _defineProperty from\"/home/ktrush/Documents/PROJECT/my_movies/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"/home/ktrush/Documents/PROJECT/my_movies/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import _regeneratorRuntime from\"/home/ktrush/Documents/PROJECT/my_movies/node_modules/@babel/runtime/regenerator/index.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import movieApi from\"../../common/apis/movieApi\";import{APIKey}from\"../../common/apis/movieApiKey\";export var fetchAsynkMovies=createAsyncThunk(\"movies/fetchAsynkMovies\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(moviesText){var _yield$movieApi$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return movieApi.get(\"?apiKey=\".concat(APIKey,\"&s=\").concat(moviesText,\"&type=movie\"));case 3:_yield$movieApi$get=_context.sent;data=_yield$movieApi$get.data;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.lof(_context.t0.response);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}());var initialState={data:{},loading:false,isSuccess:false,massage:\"\"};export var movieSlice=createSlice({name:\"movies\",initialState:initialState,reducer:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,fetchAsynkMovies.loading,function(state){state.loading=true;}),_defineProperty(_extraReducers,fetchAsynkMovies.fulfilled,function(state,_ref2){var payload=_ref2.payload;state.loading=false;state.data=payload;state.isSuccess=true;console.log(payload);}),_defineProperty(_extraReducers,fetchAsynkMovies.rejected,function(state,_ref3){var payload=_ref3.payload;state.massage=\"failed\";}),_extraReducers)});export default movieSlice.reducer;export var getMovies=function getMovies(state){return state.movies.data;};","map":{"version":3,"names":["createSlice","createAsyncThunk","movieApi","APIKey","fetchAsynkMovies","moviesText","get","data","console","lof","response","initialState","loading","isSuccess","massage","movieSlice","name","reducer","extraReducers","state","fulfilled","payload","log","rejected","getMovies","movies"],"sources":["/home/ktrush/Documents/PROJECT/my_movies/src/featuer/movie/movieSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport movieApi from \"../../common/apis/movieApi\";\nimport { APIKey } from \"../../common/apis/movieApiKey\";\n\nexport const fetchAsynkMovies = createAsyncThunk(\n  \"movies/fetchAsynkMovies\",\n  async (moviesText) => {\n    try {\n      const { data } = await movieApi.get(\n        `?apiKey=${APIKey}&s=${moviesText}&type=movie`\n      );\n      return data;\n    } catch (error) {\n      console.lof(error.response);\n    }\n  }\n);\n\nconst initialState = {\n  data: {},\n  loading: false,\n  isSuccess: false,\n  massage: \"\",\n};\n\nexport const movieSlice = createSlice({\n  name: \"movies\",\n  initialState,\n  reducer: {},\n  extraReducers: {\n    [fetchAsynkMovies.loading]: (state) => {\n      state.loading = true;\n    },\n    [fetchAsynkMovies.fulfilled]: (state, { payload }) => {\n      state.loading = false;\n      state.data = payload;\n      state.isSuccess = true;\n      console.log(payload);\n    },\n    [fetchAsynkMovies.rejected]: (state, { payload }) => {\n      state.massage = \"failed\";\n    },\n  },\n});\n\nexport default movieSlice.reducer;\nexport const getMovies = (state) => state.movies.data;\n"],"mappings":"kZAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,OAASC,MAAT,KAAuB,+BAAvB,CAEA,MAAO,IAAMC,CAAAA,gBAAgB,CAAGH,gBAAgB,CAC9C,yBAD8C,0FAE9C,iBAAOI,UAAP,qLAE2BH,CAAAA,QAAQ,CAACI,GAAT,mBACVH,MADU,eACEE,UADF,gBAF3B,0CAEYE,IAFZ,qBAEYA,IAFZ,iCAKWA,IALX,0DAOIC,OAAO,CAACC,GAAR,CAAY,YAAMC,QAAlB,EAPJ,oEAF8C,+DAAzC,CAcP,GAAMC,CAAAA,YAAY,CAAG,CACnBJ,IAAI,CAAE,EADa,CAEnBK,OAAO,CAAE,KAFU,CAGnBC,SAAS,CAAE,KAHQ,CAInBC,OAAO,CAAE,EAJU,CAArB,CAOA,MAAO,IAAMC,CAAAA,UAAU,CAAGf,WAAW,CAAC,CACpCgB,IAAI,CAAE,QAD8B,CAEpCL,YAAY,CAAZA,YAFoC,CAGpCM,OAAO,CAAE,EAH2B,CAIpCC,aAAa,mDACVd,gBAAgB,CAACQ,OADP,CACiB,SAACO,KAAD,CAAW,CACrCA,KAAK,CAACP,OAAN,CAAgB,IAAhB,CACD,CAHU,iCAIVR,gBAAgB,CAACgB,SAJP,CAImB,SAACD,KAAD,OAAwB,IAAdE,CAAAA,OAAc,OAAdA,OAAc,CACpDF,KAAK,CAACP,OAAN,CAAgB,KAAhB,CACAO,KAAK,CAACZ,IAAN,CAAac,OAAb,CACAF,KAAK,CAACN,SAAN,CAAkB,IAAlB,CACAL,OAAO,CAACc,GAAR,CAAYD,OAAZ,EACD,CATU,iCAUVjB,gBAAgB,CAACmB,QAVP,CAUkB,SAACJ,KAAD,OAAwB,IAAdE,CAAAA,OAAc,OAAdA,OAAc,CACnDF,KAAK,CAACL,OAAN,CAAgB,QAAhB,CACD,CAZU,iBAJuB,CAAD,CAA9B,CAoBP,cAAeC,CAAAA,UAAU,CAACE,OAA1B,CACA,MAAO,IAAMO,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACL,KAAD,QAAWA,CAAAA,KAAK,CAACM,MAAN,CAAalB,IAAxB,EAAlB"},"metadata":{},"sourceType":"module"}