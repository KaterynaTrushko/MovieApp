{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport movieApi from \"../../common/apis/movieApi\";\nimport { APIKey } from \"../../common/apis/movieApiKey\";\nexport const fetchAsynkDetails = createAsyncThunk(\"showsDitails/fetchAsynkDetails\", async id => {\n  const controller = new AbortController();\n\n  try {\n    const {\n      data\n    } = await movieApi.get(`?apiKey=${APIKey}&i=${id}&Plot=full`, {\n      signal: controller.signal\n    });\n    return data;\n  } catch (error) {\n    console.lof(error.response);\n  }\n});\nconst controller = new AbortController();\naxios.get(\"/foo/bar\", {\n  signal: controller.signal\n}).then(function (response) {//...\n}); // cancel the request\n\ncontroller.abort();\nconst initialState = {\n  data: {},\n  loading: false,\n  isSuccess: false\n};\nexport const showsDetailsSlice = createSlice({\n  name: \"showsDitails\",\n  initialState,\n  reducer: {\n    remuveMovieOrShow: state => {\n      state = initialState;\n    }\n  },\n  extraReducers: {\n    [fetchAsynkDetails.loading]: state => {\n      state.loading = true;\n      console.log(\"loading\");\n    },\n    [fetchAsynkDetails.fulfilled]: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.loading = false;\n      state.data = payload;\n      state.isSuccess = true;\n      console.log(payload);\n    },\n    [fetchAsynkDetails.rejected]: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.massage = \"failed\";\n      console.log(\"failed\");\n    }\n  }\n});\nexport default showsDetailsSlice.reducer;\nexport const getDetails = state => state.ditails.data;\nexport const {\n  remuveMovieOrShow\n} = showsDetailsSlice.actions;","map":{"version":3,"names":["createSlice","createAsyncThunk","movieApi","APIKey","fetchAsynkDetails","id","controller","AbortController","data","get","signal","error","console","lof","response","axios","then","abort","initialState","loading","isSuccess","showsDetailsSlice","name","reducer","remuveMovieOrShow","state","extraReducers","log","fulfilled","payload","rejected","massage","getDetails","ditails","actions"],"sources":["/home/ktrush/Documents/PROJECT/my_movies/src/featuer/movie/showMoviesShowsDetails.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport movieApi from \"../../common/apis/movieApi\";\nimport { APIKey } from \"../../common/apis/movieApiKey\";\n\nexport const fetchAsynkDetails = createAsyncThunk(\n  \"showsDitails/fetchAsynkDetails\",\n  async (id) => {\n    const controller = new AbortController();\n    try {\n      const { data } = await movieApi.get(\n        `?apiKey=${APIKey}&i=${id}&Plot=full`,\n        { signal: controller.signal }\n      );\n      return data;\n    } catch (error) {\n      console.lof(error.response);\n    }\n  }\n);\n\nconst controller = new AbortController();\n\naxios\n  .get(\"/foo/bar\", {\n    signal: controller.signal,\n  })\n  .then(function (response) {\n    //...\n  });\n// cancel the request\ncontroller.abort();\n\nconst initialState = {\n  data: {},\n  loading: false,\n  isSuccess: false,\n};\n\nexport const showsDetailsSlice = createSlice({\n  name: \"showsDitails\",\n  initialState,\n  reducer: {\n    remuveMovieOrShow: (state) => {\n      state = initialState;\n    },\n  },\n  extraReducers: {\n    [fetchAsynkDetails.loading]: (state) => {\n      state.loading = true;\n      console.log(\"loading\");\n    },\n    [fetchAsynkDetails.fulfilled]: (state, { payload }) => {\n      state.loading = false;\n      state.data = payload;\n      state.isSuccess = true;\n      console.log(payload);\n    },\n    [fetchAsynkDetails.rejected]: (state, { payload }) => {\n      state.massage = \"failed\";\n      console.log(\"failed\");\n    },\n  },\n});\n\nexport default showsDetailsSlice.reducer;\nexport const getDetails = (state) => state.ditails.data;\nexport const { remuveMovieOrShow } = showsDetailsSlice.actions;\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,MAAT,QAAuB,+BAAvB;AAEA,OAAO,MAAMC,iBAAiB,GAAGH,gBAAgB,CAC/C,gCAD+C,EAE/C,MAAOI,EAAP,IAAc;EACZ,MAAMC,UAAU,GAAG,IAAIC,eAAJ,EAAnB;;EACA,IAAI;IACF,MAAM;MAAEC;IAAF,IAAW,MAAMN,QAAQ,CAACO,GAAT,CACpB,WAAUN,MAAO,MAAKE,EAAG,YADL,EAErB;MAAEK,MAAM,EAAEJ,UAAU,CAACI;IAArB,CAFqB,CAAvB;IAIA,OAAOF,IAAP;EACD,CAND,CAME,OAAOG,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB;EACD;AACF,CAb8C,CAA1C;AAgBP,MAAMR,UAAU,GAAG,IAAIC,eAAJ,EAAnB;AAEAQ,KAAK,CACFN,GADH,CACO,UADP,EACmB;EACfC,MAAM,EAAEJ,UAAU,CAACI;AADJ,CADnB,EAIGM,IAJH,CAIQ,UAAUF,QAAV,EAAoB,CACxB;AACD,CANH,E,CAOA;;AACAR,UAAU,CAACW,KAAX;AAEA,MAAMC,YAAY,GAAG;EACnBV,IAAI,EAAE,EADa;EAEnBW,OAAO,EAAE,KAFU;EAGnBC,SAAS,EAAE;AAHQ,CAArB;AAMA,OAAO,MAAMC,iBAAiB,GAAGrB,WAAW,CAAC;EAC3CsB,IAAI,EAAE,cADqC;EAE3CJ,YAF2C;EAG3CK,OAAO,EAAE;IACPC,iBAAiB,EAAGC,KAAD,IAAW;MAC5BA,KAAK,GAAGP,YAAR;IACD;EAHM,CAHkC;EAQ3CQ,aAAa,EAAE;IACb,CAACtB,iBAAiB,CAACe,OAAnB,GAA8BM,KAAD,IAAW;MACtCA,KAAK,CAACN,OAAN,GAAgB,IAAhB;MACAP,OAAO,CAACe,GAAR,CAAY,SAAZ;IACD,CAJY;IAKb,CAACvB,iBAAiB,CAACwB,SAAnB,GAA+B,CAACH,KAAD,WAAwB;MAAA,IAAhB;QAAEI;MAAF,CAAgB;MACrDJ,KAAK,CAACN,OAAN,GAAgB,KAAhB;MACAM,KAAK,CAACjB,IAAN,GAAaqB,OAAb;MACAJ,KAAK,CAACL,SAAN,GAAkB,IAAlB;MACAR,OAAO,CAACe,GAAR,CAAYE,OAAZ;IACD,CAVY;IAWb,CAACzB,iBAAiB,CAAC0B,QAAnB,GAA8B,CAACL,KAAD,YAAwB;MAAA,IAAhB;QAAEI;MAAF,CAAgB;MACpDJ,KAAK,CAACM,OAAN,GAAgB,QAAhB;MACAnB,OAAO,CAACe,GAAR,CAAY,QAAZ;IACD;EAdY;AAR4B,CAAD,CAArC;AA0BP,eAAeN,iBAAiB,CAACE,OAAjC;AACA,OAAO,MAAMS,UAAU,GAAIP,KAAD,IAAWA,KAAK,CAACQ,OAAN,CAAczB,IAA5C;AACP,OAAO,MAAM;EAAEgB;AAAF,IAAwBH,iBAAiB,CAACa,OAAhD"},"metadata":{},"sourceType":"module"}