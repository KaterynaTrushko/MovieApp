{"ast":null,"code":"import _defineProperty from\"/home/ktrush/Documents/PROJECT/my_movies/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"/home/ktrush/Documents/PROJECT/my_movies/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import _regeneratorRuntime from\"/home/ktrush/Documents/PROJECT/my_movies/node_modules/@babel/runtime/regenerator/index.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import movieApi from\"../../common/apis/movieApi\";import{APIKey}from\"../../common/apis/movieApiKey\";export var controller=new AbortController();export var fetchAsynkDetails=createAsyncThunk(\"showsDitails/fetchAsynkDetails\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var _yield$movieApi$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return movieApi.get(\"?apiKey=\".concat(APIKey,\"&i=\").concat(id,\"&Plot=full\"),{signal:controller.signal});case 3:_yield$movieApi$get=_context.sent;data=_yield$movieApi$get.data;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.lof(_context.t0.response);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}());var initialState={data:{},loading:false,isSuccess:false};export var showsDetailsSlice=createSlice({name:\"showsDitails\",initialState:initialState,reducer:{remuveMovieOrShow:function remuveMovieOrShow(state){state=initialState;}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,fetchAsynkDetails.loading,function(state){state.loading=true;console.log(\"loading\");}),_defineProperty(_extraReducers,fetchAsynkDetails.fulfilled,function(state,_ref2){var payload=_ref2.payload;state.loading=false;state.data=payload;state.isSuccess=true;console.log(payload);}),_defineProperty(_extraReducers,fetchAsynkDetails.rejected,function(state,_ref3){var payload=_ref3.payload;state.massage=\"failed\";console.log(\"failed\");}),_extraReducers)});export default showsDetailsSlice.reducer;export var getDetails=function getDetails(state){return state.ditails.data;};var remuveMovieOrShow=showsDetailsSlice.actions.remuveMovieOrShow;export{remuveMovieOrShow};","map":{"version":3,"names":["createSlice","createAsyncThunk","movieApi","APIKey","controller","AbortController","fetchAsynkDetails","id","get","signal","data","console","lof","response","initialState","loading","isSuccess","showsDetailsSlice","name","reducer","remuveMovieOrShow","state","extraReducers","log","fulfilled","payload","rejected","massage","getDetails","ditails","actions"],"sources":["/home/ktrush/Documents/PROJECT/my_movies/src/featuer/movie/showMoviesShowsDetails.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport movieApi from \"../../common/apis/movieApi\";\nimport { APIKey } from \"../../common/apis/movieApiKey\";\n\nexport const controller = new AbortController();\n\nexport const fetchAsynkDetails = createAsyncThunk(\n  \"showsDitails/fetchAsynkDetails\",\n  async (id) => {\n    try {\n      const { data } = await movieApi.get(\n        `?apiKey=${APIKey}&i=${id}&Plot=full`,\n        { signal: controller.signal }\n      );\n      return data;\n    } catch (error) {\n      console.lof(error.response);\n    }\n  }\n);\n\nconst initialState = {\n  data: {},\n  loading: false,\n  isSuccess: false,\n};\n\nexport const showsDetailsSlice = createSlice({\n  name: \"showsDitails\",\n  initialState,\n  reducer: {\n    remuveMovieOrShow: (state) => {\n      state = initialState;\n    },\n  },\n  extraReducers: {\n    [fetchAsynkDetails.loading]: (state) => {\n      state.loading = true;\n      console.log(\"loading\");\n    },\n    [fetchAsynkDetails.fulfilled]: (state, { payload }) => {\n      state.loading = false;\n      state.data = payload;\n      state.isSuccess = true;\n      console.log(payload);\n    },\n    [fetchAsynkDetails.rejected]: (state, { payload }) => {\n      state.massage = \"failed\";\n      console.log(\"failed\");\n    },\n  },\n});\n\nexport default showsDetailsSlice.reducer;\nexport const getDetails = (state) => state.ditails.data;\nexport const { remuveMovieOrShow } = showsDetailsSlice.actions;\n"],"mappings":"kZAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,OAASC,MAAT,KAAuB,+BAAvB,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,GAAIC,CAAAA,eAAJ,EAAnB,CAEP,MAAO,IAAMC,CAAAA,iBAAiB,CAAGL,gBAAgB,CAC/C,gCAD+C,0FAE/C,iBAAOM,EAAP,qLAE2BL,CAAAA,QAAQ,CAACM,GAAT,mBACVL,MADU,eACEI,EADF,eAErB,CAAEE,MAAM,CAAEL,UAAU,CAACK,MAArB,CAFqB,CAF3B,0CAEYC,IAFZ,qBAEYA,IAFZ,iCAMWA,IANX,0DAQIC,OAAO,CAACC,GAAR,CAAY,YAAMC,QAAlB,EARJ,oEAF+C,+DAA1C,CAeP,GAAMC,CAAAA,YAAY,CAAG,CACnBJ,IAAI,CAAE,EADa,CAEnBK,OAAO,CAAE,KAFU,CAGnBC,SAAS,CAAE,KAHQ,CAArB,CAMA,MAAO,IAAMC,CAAAA,iBAAiB,CAAGjB,WAAW,CAAC,CAC3CkB,IAAI,CAAE,cADqC,CAE3CJ,YAAY,CAAZA,YAF2C,CAG3CK,OAAO,CAAE,CACPC,iBAAiB,CAAE,2BAACC,KAAD,CAAW,CAC5BA,KAAK,CAAGP,YAAR,CACD,CAHM,CAHkC,CAQ3CQ,aAAa,mDACVhB,iBAAiB,CAACS,OADR,CACkB,SAACM,KAAD,CAAW,CACtCA,KAAK,CAACN,OAAN,CAAgB,IAAhB,CACAJ,OAAO,CAACY,GAAR,CAAY,SAAZ,EACD,CAJU,iCAKVjB,iBAAiB,CAACkB,SALR,CAKoB,SAACH,KAAD,OAAwB,IAAdI,CAAAA,OAAc,OAAdA,OAAc,CACrDJ,KAAK,CAACN,OAAN,CAAgB,KAAhB,CACAM,KAAK,CAACX,IAAN,CAAae,OAAb,CACAJ,KAAK,CAACL,SAAN,CAAkB,IAAlB,CACAL,OAAO,CAACY,GAAR,CAAYE,OAAZ,EACD,CAVU,iCAWVnB,iBAAiB,CAACoB,QAXR,CAWmB,SAACL,KAAD,OAAwB,IAAdI,CAAAA,OAAc,OAAdA,OAAc,CACpDJ,KAAK,CAACM,OAAN,CAAgB,QAAhB,CACAhB,OAAO,CAACY,GAAR,CAAY,QAAZ,EACD,CAdU,iBAR8B,CAAD,CAArC,CA0BP,cAAeN,CAAAA,iBAAiB,CAACE,OAAjC,CACA,MAAO,IAAMS,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACP,KAAD,QAAWA,CAAAA,KAAK,CAACQ,OAAN,CAAcnB,IAAzB,EAAnB,CACA,GAAQU,CAAAA,iBAAR,CAA8BH,iBAAiB,CAACa,OAAhD,CAAQV,iBAAR,C"},"metadata":{},"sourceType":"module"}